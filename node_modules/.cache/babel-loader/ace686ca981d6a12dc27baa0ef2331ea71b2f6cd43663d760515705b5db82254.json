{"ast":null,"code":"import React,{useState}from'react';import SliderItem from'./SliderItem';import{calculateSubcategoryAverage}from'../utils/relationships';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubcategoryPanel=_ref=>{let{categoryId,subcategory}=_ref;const[isExpanded,setIsExpanded]=useState(false);const subcategoryAverage=calculateSubcategoryAverage(subcategory.metrics);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsExpanded(!isExpanded),className:\"w-full px-4 py-3 text-left hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-colors rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-gray-200 rounded-md flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium text-xs\",children:subcategory.name.charAt(0)})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:subcategory.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[subcategory.metrics.length,\" metrics\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Average\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:subcategoryAverage.toFixed(1)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400 transform transition-transform \".concat(isExpanded?'rotate-180':''),fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})})]})]})}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 bg-white rounded-b-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 space-y-3\",children:subcategory.metrics.map(metric=>/*#__PURE__*/_jsx(SliderItem,{categoryId:categoryId,subcategoryId:subcategory.id,metric:metric},metric.id))})})]});};export default SubcategoryPanel;","map":{"version":3,"names":["React","useState","SliderItem","calculateSubcategoryAverage","jsx","_jsx","jsxs","_jsxs","SubcategoryPanel","_ref","categoryId","subcategory","isExpanded","setIsExpanded","subcategoryAverage","metrics","className","children","onClick","name","charAt","length","toFixed","concat","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","metric","subcategoryId","id"],"sources":["C:/Users/Ben/VSCode/Parm/src/components/SubcategoryPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Subcategory } from '../contexts/KPIContext';\r\nimport SliderItem from './SliderItem';\r\nimport { calculateSubcategoryAverage } from '../utils/relationships';\r\n\r\ninterface SubcategoryPanelProps {\r\n  categoryId: string;\r\n  subcategory: Subcategory;\r\n}\r\n\r\nconst SubcategoryPanel: React.FC<SubcategoryPanelProps> = ({ categoryId, subcategory }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const subcategoryAverage = calculateSubcategoryAverage(subcategory.metrics);\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 rounded-lg border border-gray-200\">\r\n      <button\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n        className=\"w-full px-4 py-3 text-left hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-colors rounded-lg\"\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-6 h-6 bg-gray-200 rounded-md flex items-center justify-center\">\r\n                <span className=\"text-gray-600 font-medium text-xs\">\r\n                  {subcategory.name.charAt(0)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h4 className=\"text-sm font-medium text-gray-900\">\r\n                {subcategory.name}\r\n              </h4>\r\n              <p className=\"text-xs text-gray-500\">\r\n                {subcategory.metrics.length} metrics\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"text-right\">\r\n              <p className=\"text-xs text-gray-500\">Average</p>\r\n              <p className=\"text-sm font-semibold text-gray-900\">\r\n                {subcategoryAverage.toFixed(1)}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex-shrink-0\">\r\n              <svg\r\n                className={`w-4 h-4 text-gray-400 transform transition-transform ${\r\n                  isExpanded ? 'rotate-180' : ''\r\n                }`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M19 9l-7 7-7-7\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </button>\r\n\r\n      {isExpanded && (\r\n        <div className=\"border-t border-gray-200 bg-white rounded-b-lg\">\r\n          <div className=\"px-4 py-3 space-y-3\">\r\n            {subcategory.metrics.map(metric => (\r\n              <SliderItem\r\n                key={metric.id}\r\n                categoryId={categoryId}\r\n                subcategoryId={subcategory.id}\r\n                metric={metric}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubcategoryPanel; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,2BAA2B,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAOrE,KAAM,CAAAC,gBAAiD,CAAGC,IAAA,EAAiC,IAAhC,CAAEC,UAAU,CAAEC,WAAY,CAAC,CAAAF,IAAA,CACpF,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAa,kBAAkB,CAAGX,2BAA2B,CAACQ,WAAW,CAACI,OAAO,CAAC,CAE3E,mBACER,KAAA,QAAKS,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DZ,IAAA,WACEa,OAAO,CAAEA,CAAA,GAAML,aAAa,CAAC,CAACD,UAAU,CAAE,CAC1CI,SAAS,CAAC,gJAAgJ,CAAAC,QAAA,cAE1JV,KAAA,QAAKS,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDV,KAAA,QAAKS,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CZ,IAAA,QAAKW,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BZ,IAAA,QAAKW,SAAS,CAAC,iEAAiE,CAAAC,QAAA,cAC9EZ,IAAA,SAAMW,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAChDN,WAAW,CAACQ,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CACvB,CAAC,CACJ,CAAC,CACH,CAAC,cACNb,KAAA,QAAAU,QAAA,eACEZ,IAAA,OAAIW,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9CN,WAAW,CAACQ,IAAI,CACf,CAAC,cACLZ,KAAA,MAAGS,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjCN,WAAW,CAACI,OAAO,CAACM,MAAM,CAAC,UAC9B,EAAG,CAAC,EACD,CAAC,EACH,CAAC,cACNd,KAAA,QAAKS,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CV,KAAA,QAAKS,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBZ,IAAA,MAAGW,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,SAAO,CAAG,CAAC,cAChDZ,IAAA,MAAGW,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAC/CH,kBAAkB,CAACQ,OAAO,CAAC,CAAC,CAAC,CAC7B,CAAC,EACD,CAAC,cACNjB,IAAA,QAAKW,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BZ,IAAA,QACEW,SAAS,yDAAAO,MAAA,CACPX,UAAU,CAAG,YAAY,CAAG,EAAE,CAC7B,CACHY,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,cAAc,CACrBC,OAAO,CAAC,WAAW,CAAAT,QAAA,cAEnBZ,IAAA,SACEsB,aAAa,CAAC,OAAO,CACrBC,cAAc,CAAC,OAAO,CACtBC,WAAW,CAAE,CAAE,CACfC,CAAC,CAAC,gBAAgB,CACnB,CAAC,CACC,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CACA,CAAC,CAERlB,UAAU,eACTP,IAAA,QAAKW,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7DZ,IAAA,QAAKW,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CACjCN,WAAW,CAACI,OAAO,CAACgB,GAAG,CAACC,MAAM,eAC7B3B,IAAA,CAACH,UAAU,EAETQ,UAAU,CAAEA,UAAW,CACvBuB,aAAa,CAAEtB,WAAW,CAACuB,EAAG,CAC9BF,MAAM,CAAEA,MAAO,EAHVA,MAAM,CAACE,EAIb,CACF,CAAC,CACC,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}