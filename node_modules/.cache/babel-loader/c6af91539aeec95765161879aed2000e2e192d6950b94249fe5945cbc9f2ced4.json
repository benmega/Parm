{"ast":null,"code":"import React,{useState}from'react';import SubcategoryPanel from'./SubcategoryPanel';import{calculateCategoryAverage}from'../utils/relationships';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryPanel=_ref=>{let{category}=_ref;const[isExpanded,setIsExpanded]=useState(false);const categoryAverage=calculateCategoryAverage(category.subcategories);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsExpanded(!isExpanded),className:\"w-full px-6 py-4 text-left hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-semibold text-sm\",children:category.name.charAt(0)})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:category.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[category.subcategories.length,\" subcategories, \",category.subcategories.reduce((acc,sub)=>acc+sub.metrics.length,0),\" metrics\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Average\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-gray-900\",children:categoryAverage.toFixed(1)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-gray-400 transform transition-transform \".concat(isExpanded?'rotate-180':''),fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})})]})]})}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 space-y-4\",children:category.subcategories.map(subcategory=>/*#__PURE__*/_jsx(SubcategoryPanel,{categoryId:category.id,subcategory:subcategory},subcategory.id))})})]});};export default CategoryPanel;","map":{"version":3,"names":["React","useState","SubcategoryPanel","calculateCategoryAverage","jsx","_jsx","jsxs","_jsxs","CategoryPanel","_ref","category","isExpanded","setIsExpanded","categoryAverage","subcategories","className","children","onClick","name","charAt","length","reduce","acc","sub","metrics","toFixed","concat","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","subcategory","categoryId","id"],"sources":["C:/Users/Ben/VSCode/Parm/src/components/CategoryPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { KPICategory } from '../contexts/KPIContext';\r\nimport SubcategoryPanel from './SubcategoryPanel';\r\nimport { calculateCategoryAverage } from '../utils/relationships';\r\n\r\ninterface CategoryPanelProps {\r\n  category: KPICategory;\r\n}\r\n\r\nconst CategoryPanel: React.FC<CategoryPanelProps> = ({ category }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const categoryAverage = calculateCategoryAverage(category.subcategories);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      <button\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n        className=\"w-full px-6 py-4 text-left hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-colors\"\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex-shrink-0\">\r\n              <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-blue-600 font-semibold text-sm\">\r\n                  {category.name.charAt(0)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                {category.name}\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500\">\r\n                {category.subcategories.length} subcategories, {category.subcategories.reduce((acc, sub) => acc + sub.metrics.length, 0)} metrics\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"text-right\">\r\n              <p className=\"text-sm text-gray-500\">Average</p>\r\n              <p className=\"text-xl font-bold text-gray-900\">\r\n                {categoryAverage.toFixed(1)}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex-shrink-0\">\r\n              <svg\r\n                className={`w-5 h-5 text-gray-400 transform transition-transform ${\r\n                  isExpanded ? 'rotate-180' : ''\r\n                }`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M19 9l-7 7-7-7\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </button>\r\n\r\n      {isExpanded && (\r\n        <div className=\"border-t border-gray-200\">\r\n          <div className=\"px-6 py-4 space-y-4\">\r\n            {category.subcategories.map(subcategory => (\r\n              <SubcategoryPanel\r\n                key={subcategory.id}\r\n                categoryId={category.id}\r\n                subcategory={subcategory}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}