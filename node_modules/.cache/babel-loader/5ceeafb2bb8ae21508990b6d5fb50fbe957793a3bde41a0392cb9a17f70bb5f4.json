{"ast":null,"code":"import React,{useState,useCallback}from'react';import{useKPI}from'../contexts/KPIContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SliderItem=_ref=>{let{categoryId,subcategoryId,metric}=_ref;const{updateMetric}=useKPI();const[inputValue,setInputValue]=useState(metric.value.toString());const[isEditing,setIsEditing]=useState(false);const handleSliderChange=useCallback(event=>{const newValue=parseFloat(event.target.value);updateMetric(categoryId,subcategoryId,metric.id,newValue);setInputValue(newValue.toString());},[categoryId,subcategoryId,metric.id,updateMetric]);const handleInputChange=useCallback(event=>{setInputValue(event.target.value);},[]);const handleInputBlur=useCallback(()=>{const newValue=parseFloat(inputValue);if(!isNaN(newValue)&&newValue>=0&&newValue<=10){updateMetric(categoryId,subcategoryId,metric.id,newValue);}else{setInputValue(metric.value.toString());}setIsEditing(false);},[inputValue,categoryId,subcategoryId,metric.id,metric.value,updateMetric]);const handleInputKeyPress=useCallback(event=>{if(event.key==='Enter'){handleInputBlur();}},[handleInputBlur]);const handleInputFocus=useCallback(()=>{setIsEditing(true);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4 py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700 truncate\",children:metric.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"10\",step:\"0.5\",value:inputValue,onChange:handleInputChange,onBlur:handleInputBlur,onKeyPress:handleInputKeyPress,onFocus:handleInputFocus,className:\"w-16 px-2 py-1 text-sm border rounded-md text-center focus:outline-none focus:ring-2 focus:ring-blue-500 \".concat(isEditing?'border-blue-500':'border-gray-300')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"/ 10\"})]})]}),metric.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-2\",children:metric.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"10\",step:\"0.5\",value:metric.value,onChange:handleSliderChange,className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\",style:{background:\"linear-gradient(to right, #3B82F6 0%, #3B82F6 \".concat(metric.value/10*100,\"%, #E5E7EB \").concat(metric.value/10*100,\"%, #E5E7EB 100%)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-400 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"10\"})]})]})]})});};export default SliderItem;","map":{"version":3,"names":["React","useState","useCallback","useKPI","jsx","_jsx","jsxs","_jsxs","SliderItem","_ref","categoryId","subcategoryId","metric","updateMetric","inputValue","setInputValue","value","toString","isEditing","setIsEditing","handleSliderChange","event","newValue","parseFloat","target","id","handleInputChange","handleInputBlur","isNaN","handleInputKeyPress","key","handleInputFocus","className","children","name","type","min","max","step","onChange","onBlur","onKeyPress","onFocus","concat","description","style","background"],"sources":["C:/Users/Ben/VSCode/Parm/src/components/SliderItem.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { useKPI } from '../contexts/KPIContext';\r\nimport { Metric } from '../contexts/KPIContext';\r\n\r\ninterface SliderItemProps {\r\n  categoryId: string;\r\n  subcategoryId: string;\r\n  metric: Metric;\r\n}\r\n\r\nconst SliderItem: React.FC<SliderItemProps> = ({ categoryId, subcategoryId, metric }) => {\r\n  const { updateMetric } = useKPI();\r\n  const [inputValue, setInputValue] = useState(metric.value.toString());\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  const handleSliderChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newValue = parseFloat(event.target.value);\r\n    updateMetric(categoryId, subcategoryId, metric.id, newValue);\r\n    setInputValue(newValue.toString());\r\n  }, [categoryId, subcategoryId, metric.id, updateMetric]);\r\n\r\n  const handleInputChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputValue(event.target.value);\r\n  }, []);\r\n\r\n  const handleInputBlur = useCallback(() => {\r\n    const newValue = parseFloat(inputValue);\r\n    if (!isNaN(newValue) && newValue >= 0 && newValue <= 10) {\r\n      updateMetric(categoryId, subcategoryId, metric.id, newValue);\r\n    } else {\r\n      setInputValue(metric.value.toString());\r\n    }\r\n    setIsEditing(false);\r\n  }, [inputValue, categoryId, subcategoryId, metric.id, metric.value, updateMetric]);\r\n\r\n  const handleInputKeyPress = useCallback((event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === 'Enter') {\r\n      handleInputBlur();\r\n    }\r\n  }, [handleInputBlur]);\r\n\r\n  const handleInputFocus = useCallback(() => {\r\n    setIsEditing(true);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex items-center space-x-4 py-2\">\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"flex items-center justify-between mb-1\">\r\n          <label className=\"text-sm font-medium text-gray-700 truncate\">\r\n            {metric.name}\r\n          </label>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              max=\"10\"\r\n              step=\"0.5\"\r\n              value={inputValue}\r\n              onChange={handleInputChange}\r\n              onBlur={handleInputBlur}\r\n              onKeyPress={handleInputKeyPress}\r\n              onFocus={handleInputFocus}\r\n              className={`w-16 px-2 py-1 text-sm border rounded-md text-center focus:outline-none focus:ring-2 focus:ring-blue-500 ${\r\n                isEditing ? 'border-blue-500' : 'border-gray-300'\r\n              }`}\r\n            />\r\n            <span className=\"text-xs text-gray-500\">/ 10</span>\r\n          </div>\r\n        </div>\r\n        \r\n        {metric.description && (\r\n          <p className=\"text-xs text-gray-500 mb-2\">\r\n            {metric.description}\r\n          </p>\r\n        )}\r\n        \r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"10\"\r\n            step=\"0.5\"\r\n            value={metric.value}\r\n            onChange={handleSliderChange}\r\n            className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\r\n            style={{\r\n              background: `linear-gradient(to right, #3B82F6 0%, #3B82F6 ${(metric.value / 10) * 100}%, #E5E7EB ${(metric.value / 10) * 100}%, #E5E7EB 100%)`\r\n            }}\r\n          />\r\n          <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\r\n            <span>0</span>\r\n            <span>5</span>\r\n            <span>10</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SliderItem; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,OAASC,MAAM,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAShD,KAAM,CAAAC,UAAqC,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,UAAU,CAAEC,aAAa,CAAEC,MAAO,CAAC,CAAAH,IAAA,CAClF,KAAM,CAAEI,YAAa,CAAC,CAAGV,MAAM,CAAC,CAAC,CACjC,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAACW,MAAM,CAACI,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CACrE,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAmB,kBAAkB,CAAGlB,WAAW,CAAEmB,KAA0C,EAAK,CACrF,KAAM,CAAAC,QAAQ,CAAGC,UAAU,CAACF,KAAK,CAACG,MAAM,CAACR,KAAK,CAAC,CAC/CH,YAAY,CAACH,UAAU,CAAEC,aAAa,CAAEC,MAAM,CAACa,EAAE,CAAEH,QAAQ,CAAC,CAC5DP,aAAa,CAACO,QAAQ,CAACL,QAAQ,CAAC,CAAC,CAAC,CACpC,CAAC,CAAE,CAACP,UAAU,CAAEC,aAAa,CAAEC,MAAM,CAACa,EAAE,CAAEZ,YAAY,CAAC,CAAC,CAExD,KAAM,CAAAa,iBAAiB,CAAGxB,WAAW,CAAEmB,KAA0C,EAAK,CACpFN,aAAa,CAACM,KAAK,CAACG,MAAM,CAACR,KAAK,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAW,eAAe,CAAGzB,WAAW,CAAC,IAAM,CACxC,KAAM,CAAAoB,QAAQ,CAAGC,UAAU,CAACT,UAAU,CAAC,CACvC,GAAI,CAACc,KAAK,CAACN,QAAQ,CAAC,EAAIA,QAAQ,EAAI,CAAC,EAAIA,QAAQ,EAAI,EAAE,CAAE,CACvDT,YAAY,CAACH,UAAU,CAAEC,aAAa,CAAEC,MAAM,CAACa,EAAE,CAAEH,QAAQ,CAAC,CAC9D,CAAC,IAAM,CACLP,aAAa,CAACH,MAAM,CAACI,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CACxC,CACAE,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,CAACL,UAAU,CAAEJ,UAAU,CAAEC,aAAa,CAAEC,MAAM,CAACa,EAAE,CAAEb,MAAM,CAACI,KAAK,CAAEH,YAAY,CAAC,CAAC,CAElF,KAAM,CAAAgB,mBAAmB,CAAG3B,WAAW,CAAEmB,KAA4C,EAAK,CACxF,GAAIA,KAAK,CAACS,GAAG,GAAK,OAAO,CAAE,CACzBH,eAAe,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACA,eAAe,CAAC,CAAC,CAErB,KAAM,CAAAI,gBAAgB,CAAG7B,WAAW,CAAC,IAAM,CACzCiB,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEd,IAAA,QAAK2B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,cAC/C1B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1B,KAAA,QAAKyB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD5B,IAAA,UAAO2B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAC1DrB,MAAM,CAACsB,IAAI,CACP,CAAC,cACR3B,KAAA,QAAKyB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C5B,IAAA,UACE8B,IAAI,CAAC,QAAQ,CACbC,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,IAAI,CACRC,IAAI,CAAC,KAAK,CACVtB,KAAK,CAAEF,UAAW,CAClByB,QAAQ,CAAEb,iBAAkB,CAC5Bc,MAAM,CAAEb,eAAgB,CACxBc,UAAU,CAAEZ,mBAAoB,CAChCa,OAAO,CAAEX,gBAAiB,CAC1BC,SAAS,6GAAAW,MAAA,CACPzB,SAAS,CAAG,iBAAiB,CAAG,iBAAiB,CAChD,CACJ,CAAC,cACFb,IAAA,SAAM2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,EAChD,CAAC,EACH,CAAC,CAELrB,MAAM,CAACgC,WAAW,eACjBvC,IAAA,MAAG2B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtCrB,MAAM,CAACgC,WAAW,CAClB,CACJ,cAEDrC,KAAA,QAAKyB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB5B,IAAA,UACE8B,IAAI,CAAC,OAAO,CACZC,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,IAAI,CACRC,IAAI,CAAC,KAAK,CACVtB,KAAK,CAAEJ,MAAM,CAACI,KAAM,CACpBuB,QAAQ,CAAEnB,kBAAmB,CAC7BY,SAAS,CAAC,yEAAyE,CACnFa,KAAK,CAAE,CACLC,UAAU,kDAAAH,MAAA,CAAoD/B,MAAM,CAACI,KAAK,CAAG,EAAE,CAAI,GAAG,gBAAA2B,MAAA,CAAe/B,MAAM,CAACI,KAAK,CAAG,EAAE,CAAI,GAAG,oBAC/H,CAAE,CACH,CAAC,cACFT,KAAA,QAAKyB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9D5B,IAAA,SAAA4B,QAAA,CAAM,GAAC,CAAM,CAAC,cACd5B,IAAA,SAAA4B,QAAA,CAAM,GAAC,CAAM,CAAC,cACd5B,IAAA,SAAA4B,QAAA,CAAM,IAAE,CAAM,CAAC,EACZ,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}